<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from lwr_robot.xacro                | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="LWR" xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller" xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface" xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- Controller (gives access to robot control through ros topics)-->
  <!--<gazebo>
  <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
    <robotNamespace>/lwr</robotNamespace>
  </plugin>
</gazebo>
-->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotNamespace>/lwr</robotNamespace>
    </plugin>
  </gazebo>
  <!-- Each LINK and JOINT from URFD .xacro needs a <gazebo> tag: http://gazebosim.org/tutorials?tut=ros_urdf -->
  <!-- for each <LINK> can define:
	OPTION 				TYPE
	.......................................................................
	material		:	value	: Material of visual element
	gravity			:	bool	: Use gravity
	dampingFactor		:	double	: Exponential velocity decay of the link velocity - takes the value and multiplies the previous link velocity by (1-dampingFactor).
	maxVel			:	double	: Maximum contact correction velocity truncation term.
	minDepth		:	double	: Minimum allowable depth before contact correction impulse is applied
	mu1 & mu2		:	double	: Friction coefficients (ODE).
	fdir1			:	string	: 3-tuple specifying direction of mu1 in the collision local reference frame.
	kp			:	double	: Contact stiffness k_p for rigid body contacts as defined by ODE.
	kd			:	double	: Contact damping k_d for rigid body contacts as defined by ODE
	selfCollide		:	bool	: If true, the link can collide with other links in the model.
	maxContacts		:	int	: Maximum number of contacts allowed between two entities.
	laserRetro		:	double	: Intensity value returned by laser sensor.
-->
  <!-- for each <JOINT> can define:
	OPTION			TYPE
	....................................................................................................

	kp			: double: Contact stiffness k_p for rigid body contacts as defined by ODE
	kd			: double: Contact damping k_d for rigid body contacts as defined by ODE
	stopCfm			: double: Constraint force mixing used when not at a stop
	stopErp			: double: Error reduction parameter used by the joint stop
	provideFeedback		: bool	: Allows joints to publish their wrench data (force-torque) via a Gazebo plugin
	cfmDamping		: bool	: If cfm damping is set to true, ODE will use CFM to simulate damping, allows for infinite damping, and one additional
				  	  constraint row (previously used for joint limit) is always active. This is a more stable numerical method for damping
				   	  than the default damping tag.
	fudgeFactor		: double: Scale the excess for in a joint motor at joint limits. Should be between zero and one.


-->
  <!-- Inserts the Kuka here with a specified name and direction ... -->
  <!-- JOINT BASE -->
  <joint name="world_lwr_arm_base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="world"/>
    <child link="lwr_arm_base_link"/>
  </joint>
  <!-- LINK BASE -->
  <link name="lwr_arm_base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/arm_base.dae"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/convex/arm_base_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- JOINT ARM 0 -->
  <joint name="lwr_arm_0_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.11"/>
    <axis xyz="0 0 1"/>
    <limit effort="204" lower="-2.96705972839" upper="2.96705972839" velocity="1.91986217719"/>
    <dynamics damping="2" friction="0.1"/>
    <parent link="lwr_arm_base_link"/>
    <child link="lwr_arm_1_link"/>
  </joint>
  <!-- LINK ARM 1 -->
  <link name="lwr_arm_1_link">
    <visual>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/arm_segment_a.dae"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/convex/arm_segment_a_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- JOINT ARM 1 -->
  <joint name="lwr_arm_1_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.20"/>
    <axis xyz="0 -1 0"/>
    <limit effort="306" lower="-1.57079632679" upper="1.57079632679" velocity="1.91986217719"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="2" friction="0.1"/>
    <parent link="lwr_arm_1_link"/>
    <child link="lwr_arm_2_link"/>
  </joint>
  <!-- LINK ARM 2 -->
  <link name="lwr_arm_2_link">
    <visual>
      <origin rpy="3.14159265359 0 3.14159265359" xyz="0 0 0.2"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/arm_segment_b.dae"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="3.14159265359 0 3.14159265359" xyz="0 0 0.2"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/convex/arm_segment_b_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- JOINT ARM 2 -->
  <joint name="lwr_arm_2_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.20"/>
    <axis xyz="0 0 1"/>
    <limit effort="204" lower="-2.96705972839" upper="2.96705972839" velocity="2.26892802759"/>
    <dynamics damping="2" friction="0.1"/>
    <parent link="lwr_arm_2_link"/>
    <child link="lwr_arm_3_link"/>
  </joint>
  <!-- LINK ARM 3 -->
  <link name="lwr_arm_3_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/arm_segment_a.dae"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/convex/arm_segment_a_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- JOINT ARM 3 -->
  <joint name="lwr_arm_3_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.20"/>
    <axis xyz="0 1 0"/>
    <limit effort="306" lower="-2.09439510239" upper="2.09439510239" velocity="2.26892802759"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="2" friction="0.1"/>
    <parent link="lwr_arm_3_link"/>
    <child link="lwr_arm_4_link"/>
  </joint>
  <!-- LINK ARM 4 -->
  <link name="lwr_arm_4_link">
    <visual>
      <origin rpy="0 3.14159265359 3.14159265359" xyz="0 0 0.2"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/arm_segment_b.dae"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 3.14159265359 3.14159265359" xyz="0 0 0.2"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/convex/arm_segment_b_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- JOINT ARM 4 -->
  <joint name="lwr_arm_4_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.20"/>
    <axis xyz="0 0 1"/>
    <limit effort="204" lower="-2.96705972839" upper="2.96705972839" velocity="2.26892802759"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.93215314335" soft_upper_limit="2.93215314335"/>
    <dynamics damping="2" friction="0.1"/>
    <parent link="lwr_arm_4_link"/>
    <child link="lwr_arm_5_link"/>
  </joint>
  <!-- LINK ARM 5 -->
  <link name="lwr_arm_5_link">
    <visual>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry name="lwr_arm_5_geom">
        <mesh filename="package://lwr_description/meshes/meshes_arm/arm_segment_last.dae"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/convex/arm_segment_last_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- JOINT ARM 5 -->
  <joint name="lwr_arm_5_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.19"/>
    <axis xyz="0 -1 0"/>
    <limit effort="306" lower="-2.09439510239" upper="2.09439510239" velocity="3.14159265359"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="2" friction="0.1"/>
    <parent link="lwr_arm_5_link"/>
    <child link="lwr_arm_6_link"/>
  </joint>
  <!-- LINK ARM 6 -->
  <link name="lwr_arm_6_link">
    <visual>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/arm_wrist.dae"/>
      </geometry>
      <material name="Grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/convex/arm_wrist_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- JOINT ARM 6 -->
  <joint name="lwr_arm_6_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.078"/>
    <axis xyz="0 0 1"/>
    <limit effort="204" lower="-2.96705972839" upper="2.96705972839" velocity="3.14159265359"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.93215314335" soft_upper_limit="2.93215314335"/>
    <dynamics damping="2" friction="0.1"/>
    <parent link="lwr_arm_6_link"/>
    <child link="lwr_arm_7_link"/>
  </joint>
  <!-- LINK ARM 7 -->
  <link name="lwr_arm_7_link">
    <visual>
      <origin rpy="0 0 2.35619449019" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/arm_flanche.dae"/>
      </geometry>
      <material name="Grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 2.35619449019" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://lwr_description/meshes/meshes_arm/convex/arm_flanche_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- LINK HAND 
<link name="lwr_arm_hand_link" />

<joint name="${name}_arm_hand_fixed_joint" type="fixed">
	<origin xyz="${-right * 0.075} -0.075 -0.094" rpy="${0.5*right*M_PI} 0 ${(1.5 + 0.25*right)*M_PI}"/>
    	<parent link="${name}_arm_7_link"/>
   	<child link="${name}_arm_hand_link"/>
</joint>
-->
  <!-- TRANSMISSIONS -->
  <transmission name="lwr_arm_0_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lwr_arm_0_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lwr_motor_0">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="lwr_arm_1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lwr_arm_1_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lwr_motor_1">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="lwr_arm_2_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lwr_arm_2_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lwr_motor_2">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="lwr_arm_3_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lwr_arm_3_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lwr_motor_3">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="lwr_arm_4_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lwr_arm_4_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lwr_motor_4">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="lwr_arm_5_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lwr_arm_5_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lwr_motor_5">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="lwr_arm_6_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lwr_arm_6_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lwr_motor_6">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- JOINT -->
  <gazebo reference="lwr_arm_0_joint">
    <provideFeedback>true</provideFeedback>
    <!--<implicitSpringDamper>true</implicitSpringDamper>-->
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <kp>400000.0</kp>
    <!--<kp>400000</kp> -->
    <!--<kp>0.0</kp>[> CFM <]-->
    <!--<kd>0.0</kd>[> ERP <]-->
    <!--<cfmDamping>true</cfmDamping>-->
    <!--<dynamics damping="5.5" friction="1"/>-->
  </gazebo>
  <gazebo reference="lwr_arm_1_joint">
    <provideFeedback>true</provideFeedback>
    <!--<implicitSpringDamper>true</implicitSpringDamper>-->
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <kp>400000.0</kp>
    <!--<kp>400000</kp> -->
    <!--<kp>0.0</kp>[> CFM <]-->
    <!--<kd>0.0</kd>[> ERP <]-->
    <!--<cfmDamping>true</cfmDamping>-->
    <!--<dynamics damping="5.5" friction="1"/>-->
  </gazebo>
  <gazebo reference="lwr_arm_2_joint">
    <provideFeedback>true</provideFeedback>
    <!--<implicitSpringDamper>true</implicitSpringDamper>-->
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <kp>400000.0</kp>
    <!--<kp>400000</kp> -->
    <!--<kp>0.0</kp>[> CFM <]-->
    <!--<kd>0.0</kd>[> ERP <]-->
    <!--<cfmDamping>true</cfmDamping>-->
    <!--<dynamics damping="5.5" friction="1"/>-->
  </gazebo>
  <gazebo reference="lwr_arm_3_joint">
    <provideFeedback>true</provideFeedback>
    <!--<implicitSpringDamper>true</implicitSpringDamper>-->
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <kp>400000.0</kp>
    <!--<kp>400000</kp> -->
    <!--<kp>0.0</kp>[> CFM <]-->
    <!--<kd>0.0</kd>[> ERP <]-->
    <!--<cfmDamping>true</cfmDamping>-->
    <!--<dynamics damping="5.5" friction="1"/>-->
  </gazebo>
  <gazebo reference="lwr_arm_4_joint">
    <provideFeedback>true</provideFeedback>
    <!--<implicitSpringDamper>true</implicitSpringDamper>-->
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <kp>400000.0</kp>
    <!--<kp>400000</kp> -->
    <!--<kp>0.0</kp>[> CFM <]-->
    <!--<kd>0.0</kd>[> ERP <]-->
    <!--<cfmDamping>true</cfmDamping>-->
    <!--<dynamics damping="5.5" friction="1"/>-->
  </gazebo>
  <gazebo reference="lwr_arm_5_joint">
    <provideFeedback>true</provideFeedback>
    <!--<implicitSpringDamper>true</implicitSpringDamper>-->
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <kp>400000.0</kp>
    <!--<kp>400000</kp> -->
    <!--<kp>0.0</kp>[> CFM <]-->
    <!--<kd>0.0</kd>[> ERP <]-->
    <!--<cfmDamping>true</cfmDamping>-->
    <!--<dynamics damping="5.5" friction="1"/>-->
  </gazebo>
  <gazebo reference="lwr_arm_6_joint">
    <provideFeedback>true</provideFeedback>
    <!--<implicitSpringDamper>true</implicitSpringDamper>-->
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <kp>400000.0</kp>
    <!--<kp>400000</kp> -->
    <!--<kp>0.0</kp>[> CFM <]-->
    <!--<kd>0.0</kd>[> ERP <]-->
    <!--<cfmDamping>true</cfmDamping>-->
    <!--<dynamics damping="5.5" friction="1"/>-->
  </gazebo>
  <gazebo reference="lwr_arm_7_joint">
    <provideFeedback>true</provideFeedback>
    <!--<implicitSpringDamper>true</implicitSpringDamper>-->
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <kp>400000.0</kp>
    <!--<kp>400000</kp> -->
    <!--<kp>0.0</kp>[> CFM <]-->
    <!--<kd>0.0</kd>[> ERP <]-->
    <!--<cfmDamping>true</cfmDamping>-->
    <!--<dynamics damping="5.5" friction="1"/>-->
  </gazebo>
  <!-- LINK -->
  <gazebo reference="lwr_arm_base_link">
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <!--<kp>400000</kp>-->
    <!-- This defines the springiness of the contacts: 400000 -->
    <kp>400000.0</kp>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="lwr_arm_2_link">
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <!--<kp>400000</kp>-->
    <!-- This defines the springiness of the contacts: 400000 -->
    <kp>400000.0</kp>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="lwr_arm_3_link">
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <!--<kp>400000</kp>-->
    <!-- This defines the springiness of the contacts: 400000 -->
    <kp>400000.0</kp>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="lwr_arm_4_link">
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <!--<kp>400000</kp>-->
    <!-- This defines the springiness of the contacts: 400000 -->
    <kp>400000.0</kp>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="lwr_arm_5_link">
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <!--<kp>400000</kp>-->
    <!-- This defines the springiness of the contacts: 400000 -->
    <kp>400000.0</kp>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="lwr_arm_6_link">
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <!--<kp>400000</kp>-->
    <!-- This defines the springiness of the contacts: 400000 -->
    <kp>400000.0</kp>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="lwr_arm_7_link">
    <mu1>0.05</mu1>
    <!--  Coefficient of friction. Was 0.8 before but then almost impossible to slip. -->
    <mu2>0.05</mu2>
    <!-- 0.8/ 0.05 -->
    <!--<kp>400000</kp>-->
    <!-- This defines the springiness of the contacts: 400000 -->
    <kp>400000.0</kp>
    <selfCollide>true</selfCollide>
  </gazebo>
  <link name="world"/>
</robot>
